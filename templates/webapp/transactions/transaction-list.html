{% load i18n %}

<div class="left-column">
    {% include "webapp/transactions/transaction-form.html" %}
</div>

<div class="content-column-middle">

    <div id="transaction-list-panel" ng-controller="TransactionListCtrl">
         
        <h4 class="area-header">{% trans "Transactions" %}</h4>

        <div class="month-selector">
        <div class="btn-group">
            <button class="btn btn-link previous-month" ng-class="{disabled: loading}"><i class="icon-chevron-left icon-" ng-click="moveMonth('subtract')"></i></button>
            <button class="btn btn-link actual-month" ng-class="{disabled: loading}" ex-month-selector="filterDate"></button>
            <button class="btn btn-link next-month" ng-class="{disabled: loading}"><i class="icon-chevron-right icon-" ng-click="moveMonth('add')"></i></button>
        </div>
        </div>

        <table class="table transaction-table">

            <thead>
                <tr class="transaction-list-columns">
                    <th>{% trans "Category" %}</th>
                    <th class="value-column-header">{% trans "Total" %}</th>
                </tr>
            </thead>

            <tbody ng-repeat="category in categories" rel="(($index))">
                <tr class="transaction-list-category">
                    <td colspan="4" ng-bind="category.name"></td>
                </tr>
                <tr class="transaction-row"
                    ng-show="false"
                    ng-repeat="transaction in category.transactions"
                    rel="(($index))"
                    >

                    <td class="date-column" ng-bind="transaction.date | date:'mediumDate'" style="font-weight: bold">
                    </td>

                    <td class="description-column" ng-bind="transaction.description"></td>

                    <td class="value-column" is-positive-class="transaction.value">
                        <span ng-bind="transaction.value | number:2"></span>
                    </td>
                </tr>
            </tbody>

        </table>

        <hr/>

        <!--
        <table class="table transaction-table">
            <thead class="">
                <tr class="transaction-list-columns">
                    <th>{% trans "Category" %}</th>
                    <th class="description-column-header">{% trans "Description" %}</th>
                    <th class="value-column-header">{% trans "Value" %}</th>
                    <th>{% trans "Actions" %}</th>
                </tr>
            </thead>
            <tbody ng-repeat="day in days | orderBy: 'day':true" rel="(($index))">
                <tr class="transaction-list-day">
                    <td colspan="4" ng-bind="day.day | date:'fullDate'"></td>
                </tr>
                <tr
                    class="transaction-row"
                    ng-repeat="transaction in day.transactions"
                    rel="(($index))"
                    >

                    <td class="category-column" ng-bind="transaction.category.name" style="font-weight: bold">
                    </td>

                    <td class="description-column" ng-bind="transaction.description"></td>

                    <td class="value-column" is-positive-class="transaction.value">
                        <span ng-bind="transaction.value | number:2"></span>
                    </td>

                    <td class="action-bar" ex-actionbar ng-controller="TransactionActionBarCtrl">
                        <i
                            class="icon-trash delete-transaction"
                            ng-click="removeTransaction()"
                        ></i>
                    </td>
                </tr>
            </tbody>
        </table>
        -->

        <div id="empty-msg" ng-show="isEmpty()">
            {% trans "No transacions for the period." %}
        </div>

        <div class="loading-spinner" ng-show="loading">
            <i class="icon-spinner icon-spin icon-3x"></i>
        </div>

    </div> <!-- panel -->

</div>

<div class="right-column">
    {% include "webapp/transactions/month_balance_panel.html" %}
</div>
