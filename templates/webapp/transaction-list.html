{% load staticfiles %}
{% load humanize %}
{% load expenses_tags %}
{% load i18n %}

<div class="span3">
    {% include "webapp/forms/entry.html" %}
</div>

<div class="span6" ng-controller="TransactionListCtrl">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}

    <div class="squared-well">
        <div ng-repeat="day in days | orderBy: 'day' : true">
            <table class="table">
                <thead><tr>
                    <td colspan="3" ng-bind="day.day | date:fullDate"></td>
                </tr></thead>
                <tbody>
                    <tr
                        class="entry-row"
                        ng-repeat="transaction in day.transactions"
                        >

                        <td class="span2">
                            {% verbatim %}
                            <span class="category-label" ng-bind="transaction.category.name" style="background-color: {{transaction.category.color}};"></span>
                            {% endverbatim %}
                        </td>
                        <td ng-bind="transaction.description"></td>
                        <td class="span1" ng-bind="transaction.value | currency"></td>

                        <td class="span1 action-bar" ex-actionbar ng-controller="TransactionActionBarCtrl">
                            <i
                                class="icon-trash delete-entry"
                            ></i>
                        </td>
                    </tr>
                </tbody>
            </table> 
        </div>
        <p>{% trans "Use the form to the right to create your first entry." %}</p>
    </div>
</div>
<div class="span3">
    {% comment %}
    {% include "expenses/month_balance_panel.html" %}
    {% endcomment %}
</div>
