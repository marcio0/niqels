{% extends "base.html" %}

{% load staticfiles %}
{% load static %}
{% load humanize %}
{% load expenses_tags %}
{% load i18n %}

{% block extrahead %}
{% endblock extrahead %}

{% block body %}

<div class="container" ng-app="webapp" id="ng-app">
    <div class="row">
        <div class="span12">
        <ul class="nav nav-pills">
            <li ng-class="{active: $state.includes('transactions')}"><a href="#/transactions">{% trans "Transactions" %}</a></li>
            <li ng-class="{active: $state.includes('settings')}"><a href="#/settings">{% trans "Settings" %}</a></li>
        </ul>
        </div>
    </div>
    <div class="row" ui-view>
    </div>
</div>

{% endblock body %}

{% block bodyend %}


{% if debug %}

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular-resource.js"></script>

    <script src="{% static "js/webapp-libs.min.js" %}"></script>

    {% get_static_prefix as static_path %}

    {% with src=static_path|add:"js/src/" controllers=static_path|add:"js/src/controllers/" %}

        <script src="{{src}}app.js"></script>
        <script src="{{controllers}}BalancePanelCtrl.js"></script>
        <script src="{{controllers}}RemindersCtrl.js"></script>
        <script src="{{controllers}}TransactionActionBarCtrl.js"></script>
        <script src="{{controllers}}TransactionFormCtrl.js"></script>
        <script src="{{controllers}}TransactionListCtrl.js"></script>
        <script src="{{controllers}}CategoryListCtrl.js"></script>
        <script src="{{controllers}}ReminderListCtrl.js"></script>
        <script src="{{src}}services.js"></script>
        <script src="{{src}}directives.js"></script>

    {% endwith %}

{% else %}

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular-resource.min.js"></script>

    <script src="{% static "js/webapp.min.js" %}"></script>

{% endif %}

{% endblock bodyend %}

