{% load i18n %}

<form id="register-form" method="POST" action="{% url "register" %}">{% csrf_token %}
    <h2>{% trans "Sign up" %}</h2>
    
    <div class="control-group {% if register_form.name.errors %}error{% endif %}">
        <div class="controls input-icon">
            <i class="icon-user input-icon-prepend"></i>
            <input
                type="text"
                name="name"
                class="input-block-level"
                placeholder="{% trans "Name" %}"
                value="{{ register_form.name.value|default_if_none:"" }}"
            >

            {% for error in register_form.name.errors %}
                <span class="help-block error">{{ error }}</span>
            {% endfor %}
        </div>
    </div>

    <div class="control-group {% if register_form.email.errors %}error{% endif %}">
        <div class="controls input-icon">
            <i class="icon-envelope input-icon-prepend"></i>
            <input
                type="email"
                name="email"
                class="input-block-level"
                placeholder="{% trans "Email" %}"
                value="{{ register_form.email.value|default_if_none:"" }}"
            >

            {% for error in register_form.email.errors %}
                <span class="help-block error">{{ error }}</span>
            {% endfor %}
        </div>
    </div>

    <div class="control-group {% if register_form.password1.errors %}error{% endif %}">
        <div class="controls input-icon">
                <i class="icon-asterisk input-icon-prepend"></i>
                <input
                    type="password"
                    name="password1"
                    class="input-block-level"
                    placeholder="{% trans "Password" %}"
                >

            {% for error in register_form.password1.errors %}
                <span class="help-block error">{{ error }}</span>
            {% endfor %}
        </div>
    </div>

    <div class="control-group {% if register_form.password2.errors %}error{% endif %}">
        <div class="controls input-icon">
                <i class="icon-asterisk input-icon-prepend"></i>
                <input
                    type="password"
                    name="password2"
                    class="input-block-level"
                    placeholder="{% trans "Confirm password" %}"
                >

            {% for error in register_form.password2.errors %}
                <span class="help-block error">{{ error }}</span>
            {% endfor %}
        </div>
    </div>

    <input type="submit" value="{% trans "Sign up" %}">

    <hr>

    <p>{% trans "Already a user?" %} <a href="{% url "login" %}">{% trans "Sign in" %}</a></p>
    <p><a href="{% url "password_reset_recover" %}">{% trans "Forgot your password?" %}</a></p>
</form>
